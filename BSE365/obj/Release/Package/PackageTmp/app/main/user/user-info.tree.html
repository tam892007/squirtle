<div class="panel panel-default panel-table">
    <div class="panel-heading">
        <h3 class="panel-title"> <span class="glyphicon glyphicon-grain" aria-hidden="true"></span> &nbsp; User Tree</h3>
    </div>
    <div class="panel-body">
        <!-- Nested node template -->
        <script type="text/ng-template" id="nodes_renderer.html">
            <div ui-tree-handle class="tree-node tree-node-content">
                <a class="btn btn-success btn-xs" ng-if="(node.nodes && node.nodes.length > 0) || !node.isLoaded" data-nodrag ng-click="loadDataForSingleNode(node);toggle(this);">
                    <span class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed }"></span>
                </a>
                {{node.title}}
            </div>
            <ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">
                <li ng-repeat="node in node.nodes" ui-tree-node ng-include="'nodes_renderer.html'">
                </li>
            </ol>
        </script>
        <div ui-tree>
            <ol ui-tree-nodes="" ng-model="data" id="tree-root">
                <li ng-repeat="node in data" ui-tree-node ng-include="'nodes_renderer.html'"></li>
            </ol>
        </div>
    </div>
</div>