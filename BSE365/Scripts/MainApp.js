var mainApp=angular.module("mainApp",["ui.router","authApp","ngResource"]);mainApp.config(["$stateProvider","$urlRouterProvider",function(r,e){e.otherwise("/"),r.state("home",{url:"/",templateUrl:"app/main/home/home.html"}).state("login",{url:"/login",templateUrl:"app/authentication/login/login.html",controller:"loginController"}).state("pin",{url:"/pin",templateUrl:"app/main/pin/pin.html",controller:"pinController"}).state("user",{url:"/user",templateUrl:"app/main/user/user-info.html",controller:"userController"})}]),mainApp.config(["$httpProvider",function(r){r.interceptors.push("authInterceptorService")}]),mainApp.run(["authService",function(r){r.fillAuthData()}]),mainApp.controller("pinController",["$scope",function(r){}]),mainApp.controller("userController",["$scope","userService",function(r,e){r.getCurrentUserProfile=function(){return e.getCurrentUserProfile().$promise},r.init=function(){r.user={},r.formMode=0,r.getCurrentUserProfile().then(function(e){r.user=e,console.log(e)})},r.init()}]),mainApp.factory("userService",["$resource",function(r){return r(":path",{},{getCurrentUserProfile:{method:"GET",params:{path:"api/user/getCurrent"}}})}]);